<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Día 3: Estructura Formal y Compiladores Lógicos</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Montserrat:wght@600;700&family=Fira+Code:wght@500&display=swap" rel="stylesheet">

    <style>
        :root {
            /* Paleta Académica (Estilo Día 2) */
            --primary-color: #2c3e50; /* Dark Slate */
            --accent-color: #4834d4;  /* Deep Indigo */
            --accent-light: #eaddff;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --code-bg: #2d3436;
            --light-bg: #f8f9fa;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--light-bg);
            color: #333;
            line-height: 1.7;
            padding-bottom: 100px;
        }

        h1, h2, h3, h4 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
        }

        .font-code {
            font-family: 'Fira Code', monospace;
        }

        /* --- Header Hero --- */
        .hero-section {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
            color: white;
            padding: 4rem 1rem;
            margin-bottom: 3rem;
            border-radius: 0 0 40px 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        /* --- Cards --- */
        .edu-card {
            background: white;
            border: none;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s;
            height: 100%;
            overflow: hidden;
            border-top: 4px solid var(--accent-color);
        }
        .edu-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.1);
        }

        /* --- Tree Diagram Visuals --- */
        .tree-diagram {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            background-color: white;
            border-radius: 12px;
            border: 1px solid #e9ecef;
        }
        .tree-node {
            width: 50px; height: 50px;
            border-radius: 50%;
            background: white;
            border: 2px solid var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-family: 'Fira Code', monospace;
            z-index: 2;
            position: relative;
            transition: all 0.3s;
        }
        .tree-node.root { background: var(--accent-color); color: white; transform: scale(1.1); }
        .tree-node.leaf { border-color: var(--success-color); color: var(--success-color); }
        
        .connector-line {
            width: 2px;
            background-color: #ccc;
            height: 30px; /* Longitud de conectores verticales */
            margin: 0 auto;
        }
        
        /* --- Console Simulator --- */
        .console-container {
            background-color: var(--code-bg);
            border-radius: 8px;
            padding: 20px;
            color: #dfe6e9;
            font-family: 'Fira Code', monospace;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
        }
        .token-box {
            display: inline-block;
            padding: 2px 8px;
            margin: 2px;
            border-radius: 4px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            font-size: 0.85rem;
        }
        .token-type { color: #81ecec; font-size: 0.7rem; display: block; }
        
        /* --- Callouts --- */
        .callout {
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-left: 5px solid var(--accent-color);
            background-color: #fff;
            border-radius: 0 8px 8px 0;
        }
    </style>
</head>
<body>

    <header class="hero-section text-center">
        <div class="container">
            <span class="badge bg-white text-dark mb-3 px-3 py-2 rounded-pill fw-bold border">DÍA 3: FORMALIZACIÓN & COMPILACIÓN</span>
            <h1 class="display-4 mb-3">Lógica Formal y Estructura de Datos</h1>
            <p class="lead mx-auto" style="max-width: 800px;">
                Hoy transformamos el pensamiento en estructuras matemáticas rigurosas. Entenderemos cómo una computadora "lee" la lógica a través del análisis léxico, sintáctico y semántico.
            </p>
        </div>
    </header>

    <div class="container">

        <section class="mb-5">
            <h2 class="section-title text-primary border-bottom pb-2 mb-4">
                <i class="bi bi-fonts me-2"></i>1. El Alfabeto Formal ($\Sigma$)
            </h2>
            <p class="mb-4">
                Para que la lógica sea computable, debe definirse como un lenguaje formal con un alfabeto finito y reglas estrictas. Agrupamos los símbolos según su función y su <strong>aridad</strong> (número de argumentos que requieren).
            </p>

            <div class="row g-4">
                <div class="col-md-4">
                    <div class="edu-card p-4">
                        <div class="text-center mb-3">
                            <i class="bi bi-chat-square-text fs-1 text-success"></i>
                        </div>
                        <h5 class="fw-bold text-center">A. Proposiciones</h5>
                        <p class="small text-muted text-center">Variables que almacenan valores de verdad (True/False).</p>
                        <div class="alert alert-light border text-center font-code">
                            p, q, r, s...
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="edu-card p-4">
                        <div class="text-center mb-3">
                            <i class="bi bi-1-circle fs-1 text-warning"></i>
                        </div>
                        <h5 class="fw-bold text-center">B. Conectivos Unarios</h5>
                        <p class="small text-muted text-center">Aridad = 1. Operan sobre <strong>una sola</strong> proposición.</p>
                        <div class="alert alert-light border text-center font-code">
                            ¬ (Negación)
                        </div>
                        <div class="text-center small text-secondary">Ejemplo: ¬p</div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="edu-card p-4">
                        <div class="text-center mb-3">
                            <i class="bi bi-2-circle fs-1 text-primary"></i>
                        </div>
                        <h5 class="fw-bold text-center">C. Conectivos Binarios</h5>
                        <p class="small text-muted text-center">Aridad = 2. Enlazan <strong>dos</strong> proposiciones.</p>
                        <div class="alert alert-light border text-center font-code">
                            ∧, ∨, →, ↔
                        </div>
                        <div class="text-center small text-secondary">Ejemplo: p ∧ q</div>
                    </div>
                </div>
            </div>
            
            <div class="alert alert-secondary mt-3 d-flex align-items-center">
                <i class="bi bi-info-circle-fill fs-4 me-3"></i>
                <div>
                    <strong>Símbolos Auxiliares:</strong> Los paréntesis <code>( )</code> son signos de puntuación vitales. No tienen valor de verdad, pero definen el <strong>alcance</strong> y la jerarquía.
                </div>
            </div>
        </section>

        <section class="mb-5">
            <h2 class="section-title text-primary border-bottom pb-2 mb-4">
                <i class="bi bi-sort-numeric-down me-2"></i>2. Jerarquía de Operadores
            </h2>
            
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <div class="callout">
                        <h4 class="fw-bold">Implícito vs. Explícito</h4>
                        <p>En el lenguaje natural somos ambiguos. En lógica formal, la jerarquía elimina la ambigüedad.</p>
                        
                        <table class="table table-bordered bg-white small mt-3">
                            <thead class="table-light">
                                <tr>
                                    <th>Concepto</th>
                                    <th>Expresión</th>
                                    <th>Interpretación de la Máquina</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="text-muted">Ambigüo</td>
                                    <td class="font-code text-danger">p ∧ q → r</td>
                                    <td>¿Primero el AND o el Condicional?</td>
                                </tr>
                                <tr>
                                    <td class="text-muted">Implícito</td>
                                    <td class="font-code text-primary">p ∧ q → r</td>
                                    <td>(p ∧ q) → r <br><small class="text-muted text-fst-italic">El AND gana por jerarquía.</small></td>
                                </tr>
                                <tr>
                                    <td class="text-muted">Explícito</td>
                                    <td class="font-code text-success">(p ∧ q) → r</td>
                                    <td>Claridad total mediante paréntesis.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="col-lg-6">
                    <div class="card bg-dark text-white p-4 rounded-3 shadow">
                        <h5 class="mb-3 border-bottom border-secondary pb-2">Pirámide de Precedencia</h5>
                        <ul class="list-unstyled font-code">
                            <li class="mb-2 text-warning"><i class="bi bi-caret-right-fill"></i> 1. ( ) Paréntesis <span class="text-white-50 ms-2">// Máxima prioridad</span></li>
                            <li class="mb-2"><i class="bi bi-caret-right-fill"></i> 2. ¬ Negación <span class="text-white-50 ms-2">// Se pega a la variable</span></li>
                            <li class="mb-2"><i class="bi bi-caret-right-fill"></i> 3. ∧ Conjunción (AND)</li>
                            <li class="mb-2"><i class="bi bi-caret-right-fill"></i> 4. ∨ Disyunción (OR)</li>
                            <li class="mb-2"><i class="bi bi-caret-right-fill"></i> 5. → Condicional</li>
                            <li class="mb-2 text-white-50"><i class="bi bi-caret-right-fill"></i> 6. ↔ Bicondicional <span class="ms-2">// Mínima prioridad</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section class="mb-5">
            <h2 class="section-title text-primary border-bottom pb-2 mb-4">
                <i class="bi bi-diagram-3 me-2"></i>3. Árboles Sintácticos (Grafos)
            </h2>
            <p>
                Una fórmula lógica es lineal (texto), pero su estructura real es un <strong>Árbol Binario</strong>. 
                <br>La "Raíz" es el conectivo principal. Las "Hojas" son las proposiciones simples.
            </p>

            <div class="tree-diagram shadow-sm position-relative">
                <span class="badge bg-light text-dark border mb-4 font-code fs-5">Fórmula: ¬(p ∨ q)</span>

                <div class="tree-node root" data-bs-toggle="tooltip" title="Raíz: Conectivo Principal">¬</div>
                
                <div class="connector-line"></div>

                <div class="tree-node" style="border-color: #3498db; color: #3498db;">∨</div>

                <div style="display: flex; justify-content: space-between; width: 100px; height: 20px; border-top: 2px solid #ccc; margin-top: -10px;">
                    <div style="width: 50%; border-right: 1px solid transparent;"></div> </div>
                <div style="display: flex; justify-content: space-between; width: 120px;">
                    <div style="width: 1px; height: 15px; background: #ccc;"></div>
                    <div style="width: 1px; height: 15px; background: #ccc;"></div>
                </div>

                <div class="d-flex gap-5 mt-1">
                    <div class="tree-node leaf">p</div>
                    <div class="tree-node leaf">q</div>
                </div>

                <div class="mt-4 text-center">
                    <small class="text-muted d-block"><i class="bi bi-arrow-down"></i> <strong>Desarrollo Top-Down:</strong> Análisis sintáctico (descomposición).</small>
                    <small class="text-muted d-block"><i class="bi bi-arrow-up"></i> <strong>Desarrollo Bottom-Up:</strong> Evaluación de verdad (semántica).</small>
                </div>
            </div>
        </section>

        <section class="mb-5">
            <h2 class="section-title text-primary border-bottom pb-2 mb-4">
                <i class="bi bi-cpu me-2"></i>4. El Pipeline del Lenguaje Lógico
            </h2>
            <p class="mb-4">
                Tanto en Prolog como en compiladores (Java, C++), el código pasa por tres fases. 
                Aquí usamos <strong>Expresiones Regulares</strong> para el análisis léxico.
            </p>

            <div class="row">
                <div class="col-lg-5">
                    <div class="list-group">
                        <div class="list-group-item list-group-item-action active" id="step1-desc">
                            <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">1. Análisis Léxico</h5>
                                <small>Scanner</small>
                            </div>
                            <p class="mb-1 small">Rompe el texto en <strong>Tokens</strong> usando Expresiones Regulares. Identifica qué es variable y qué es operador.</p>
                        </div>
                        <div class="list-group-item list-group-item-action" id="step2-desc">
                            <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">2. Análisis Sintáctico</h5>
                                <small>Parser</small>
                            </div>
                            <p class="mb-1 small">Verifica la gramática y construye el <strong>Árbol de Derivación</strong>. Revisa balanceo de paréntesis.</p>
                        </div>
                        <div class="list-group-item list-group-item-action" id="step3-desc">
                            <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">3. Análisis Semántico</h5>
                                <small>Evaluator</small>
                            </div>
                            <p class="mb-1 small">Evalúa el <strong>Significado</strong> (Verdad o Falsedad) de la afirmación.</p>
                        </div>
                    </div>
                    
                    <button class="btn btn-dark w-100 mt-3 py-3 fw-bold shadow" onclick="simulateCompiler()">
                        <i class="bi bi-play-fill me-2"></i> Ejecutar Análisis de: (p ∧ q)
                    </button>
                </div>

                <div class="col-lg-7 mt-3 mt-lg-0">
                    <div class="console-container h-100 position-relative">
                        <div class="badge bg-secondary mb-2">OUTPUT CONSOLE</div>
                        
                        <div id="consoleOutput">
                            <span class="text-secondary">> Esperando entrada...</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="mb-5">
            <h2 class="section-title text-primary border-bottom pb-2 mb-4">
                <i class="bi bi-diagram-2 me-2"></i>5. Razonamiento Silogístico y BC
            </h2>
            
            <div class="bg-white p-4 rounded border-start border-5 border-success shadow-sm">
                <h5 class="fw-bold">Base de Conocimiento (BC) y Prolog</h5>
                <p>
                    El razonamiento automático consiste en decidir si una afirmación <strong>A</strong> es verdadera dado un conjunto de hechos previos <strong>BC</strong>.
                </p>
                <hr>
                <div class="row text-center">
                    <div class="col-md-4">
                        <div class="p-2 bg-light border rounded">
                            <strong>Hechos</strong><br>
                            <span class="font-code small text-muted">humano(socrates).</span>
                        </div>
                    </div>
                    <div class="col-md-1 d-flex align-items-center justify-content-center">
                        <i class="bi bi-plus-lg text-secondary"></i>
                    </div>
                    <div class="col-md-4">
                        <div class="p-2 bg-light border rounded">
                            <strong>Reglas</strong><br>
                            <span class="font-code small text-muted">mortal(x) :- humano(x).</span>
                        </div>
                    </div>
                    <div class="col-md-1 d-flex align-items-center justify-content-center">
                        <i class="bi bi-arrow-right text-success"></i>
                    </div>
                    <div class="col-md-2 d-flex align-items-center justify-content-center">
                        <div class="badge bg-success p-2">INFERENCIA</div>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <footer class="bg-dark text-white py-4 text-center mt-5">
        <div class="container">
            <small class="text-white-50">Lógica Informática &bull; Día 3</small>
            <p class="mb-0 mt-2">Próximo Tema: <strong>Tablas de Verdad y Evaluación Semántica</strong></p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        function simulateCompiler() {
            const output = document.getElementById('consoleOutput');
            output.innerHTML = ''; // Limpiar

            // Paso 1: Lexical
            setTimeout(() => {
                output.innerHTML += `
                    <div class='mb-2'>
                        <span class='text-warning'>[1] ANÁLISIS LÉXICO (RegEx)...</span><br>
                        <span class='text-secondary'>Input: "(p ∧ q)"</span><br>
                        <div class='mt-1'>
                            <span class='token-box'><span class='token-type'>AUX</span>(</span>
                            <span class='token-box'><span class='token-type'>VAR</span>p</span>
                            <span class='token-box'><span class='token-type'>OP_BIN</span>∧</span>
                            <span class='token-box'><span class='token-type'>VAR</span>q</span>
                            <span class='token-box'><span class='token-type'>AUX</span>)</span>
                        </div>
                    </div>
                `;
            }, 500);

            // Paso 2: Sintáctico
            setTimeout(() => {
                output.innerHTML += `
                    <div class='mb-2 border-top border-secondary pt-2'>
                        <span class='text-info'>[2] ANÁLISIS SINTÁCTICO (Parser)...</span><br>
                        <span class='text-success'>✓ Estructura balanceada</span><br>
                        <span class='text-secondary font-code'>
                           &nbsp;&nbsp;∧ (Raíz)<br>
                           &nbsp;↙&nbsp;&nbsp;↘<br>
                           p&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q
                        </span>
                    </div>
                `;
            }, 2000);

            // Paso 3: Semántico
            setTimeout(() => {
                output.innerHTML += `
                    <div class='mb-2 border-top border-secondary pt-2'>
                        <span class='text-danger'>[3] ANÁLISIS SEMÁNTICO...</span><br>
                        <span class='text-secondary'>Evaluando valores de verdad...</span><br>
                        <span class='text-white bg-success px-2 rounded small'>LISTO PARA TABLA DE VERDAD</span>
                    </div>
                `;
            }, 3500);
        }
    </script>
</body>
</html>
